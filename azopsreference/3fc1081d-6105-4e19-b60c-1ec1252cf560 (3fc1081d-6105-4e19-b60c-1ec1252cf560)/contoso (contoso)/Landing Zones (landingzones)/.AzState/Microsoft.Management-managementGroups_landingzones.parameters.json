{
  "$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentParameters.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "input": {
      "value": {
        "Id": "/providers/Microsoft.Management/managementGroups/landingzones",
        "Type": "/providers/Microsoft.Management/managementGroups",
        "Name": "landingzones",
        "TenantId": "3fc1081d-6105-4e19-b60c-1ec1252cf560",
        "DisplayName": "Landing Zones",
        "UpdatedTime": "0001-01-01T00:00:00Z",
        "UpdatedBy": null,
        "ParentId": "/providers/Microsoft.Management/managementGroups/contoso",
        "ParentName": "contoso",
        "ParentDisplayName": "contoso",
        "Children": [
          {
            "Type": "/providers/Microsoft.Management/managementGroups",
            "Id": "/providers/Microsoft.Management/managementGroups/corp",
            "Name": "corp",
            "DisplayName": "corp",
            "Children": [
              {
                "Type": "/subscriptions",
                "Id": "/subscriptions/2f68ca09-59d9-4ab5-ad11-c54872bfa28d",
                "Name": "2f68ca09-59d9-4ab5-ad11-c54872bfa28d",
                "DisplayName": "bu1-neu-msx1",
                "Children": null
              },
              {
                "Type": "/subscriptions",
                "Id": "/subscriptions/673d8549-7629-4659-a292-464d1616afd4",
                "Name": "673d8549-7629-4659-a292-464d1616afd4",
                "DisplayName": "bu1-weu-msx3",
                "Children": null
              },
              {
                "Type": "/subscriptions",
                "Id": "/subscriptions/558bf93d-0c7b-4436-82ab-a7ed6fda34aa",
                "Name": "558bf93d-0c7b-4436-82ab-a7ed6fda34aa",
                "DisplayName": "bu1-neu-msx2",
                "Children": null
              },
              {
                "Type": "/subscriptions",
                "Id": "/subscriptions/61c7653d-4d0f-4729-a0d2-c8138cfa1434",
                "Name": "61c7653d-4d0f-4729-a0d2-c8138cfa1434",
                "DisplayName": "bu1-ncus-msx4",
                "Children": null
              }
            ]
          },
          {
            "Type": "/providers/Microsoft.Management/managementGroups",
            "Id": "/providers/Microsoft.Management/managementGroups/online",
            "Name": "online",
            "DisplayName": "online",
            "Children": [
              {
                "Type": "/subscriptions",
                "Id": "/subscriptions/6d257533-dec9-4f23-92a1-a8321abb5f44",
                "Name": "6d257533-dec9-4f23-92a1-a8321abb5f44",
                "DisplayName": "bu1-neu-www1",
                "Children": null
              },
              {
                "Type": "/subscriptions",
                "Id": "/subscriptions/8353a044-7113-40f5-89ea-19a083b77c53",
                "Name": "8353a044-7113-40f5-89ea-19a083b77c53",
                "DisplayName": "bu1-neu-www2",
                "Children": null
              }
            ]
          },
          {
            "Type": "/providers/Microsoft.Management/managementGroups",
            "Id": "/providers/Microsoft.Management/managementGroups/sap",
            "Name": "sap",
            "DisplayName": "sap",
            "Children": null
          }
        ],
        "properties": {
          "policyDefinitions": [],
          "policySetDefinitions": [],
          "policyAssignments": [
            {
              "Identity": {
                "type": "SystemAssigned"
              },
              "Location": "northeurope",
              "Name": "Deny-PublicEndpoints",
              "Properties": {
                "Description": null,
                "DisplayName": "Deny Public Endpoints for PaaS Services",
                "NotScopes": [
                  "/subscriptions/2f68ca09-59d9-4ab5-ad11-c54872bfa28d/resourceGroups/mytestresourcegroup"
                ],
                "Parameters": {},
                "PolicyDefinitionId": "<replace-me>",
                "Scope": "<replace-me>"
              },
              "ResourceType": "Microsoft.Authorization/policyAssignments"
            },
            {
              "Identity": {
                "type": "SystemAssigned"
              },
              "Location": "northeurope",
              "Name": "Deploy-VM-Backup",
              "Properties": {
                "Description": null,
                "DisplayName": "Deploy-AzureBackup-on-VMs",
                "NotScopes": null,
                "Parameters": {},
                "PolicyDefinitionId": "<replace-me>",
                "Scope": "<replace-me>"
              },
              "ResourceType": "Microsoft.Authorization/policyAssignments"
            },
            {
              "Identity": {
                "type": "SystemAssigned"
              },
              "Location": "northeurope",
              "Name": "Deploy-vNet",
              "Properties": {
                "Description": null,
                "DisplayName": "Deploy vNet",
                "NotScopes": null,
                "Parameters": {
                  "ipam": {
                    "value": [
                      {
                        "name": "bu1-weu-msx3-vNet",
                        "location": "westeurope",
                        "virtualNetworks": {
                          "properties": {
                            "addressSpace": {
                              "addressPrefixes": [
                                "10.51.217.0/24"
                              ]
                            }
                          }
                        },
                        "networkSecurityGroups": {
                          "properties": {
                            "securityRules": []
                          }
                        },
                        "routeTables": {
                          "properties": {
                            "routes": []
                          }
                        },
                        "hubVirtualNetworkConnection": {
                          "vWanVhubResourceId": "/subscriptions/99c2838f-a548-4884-a6e2-38c1f8fb4c0b/resourceGroups/contoso-global-vwan/providers/Microsoft.Network/virtualHubs/contoso-vhub-weu",
                          "properties": {
                            "allowHubToRemoteVnetTransit": true,
                            "allowRemoteVnetToUseHubVnetGateways": false,
                            "enableInternetSecurity": true
                          }
                        }
                      }
                    ]
                  }
                },
                "PolicyDefinitionId": "<replace-me>",
                "Scope": "<replace-me>"
              },
              "ResourceType": "Microsoft.Authorization/policyAssignments"
            }
          ],
          "roleDefinitions": [],
          "roleAssignments": [
            {
              "Id": "/providers/Microsoft.Management/managementGroups/landingzones/providers/Microsoft.Authorization/roleAssignments/7aa4cdb8-8f47-4fca-9bdd-e8f187986ac5",
              "Name": "7aa4cdb8-8f47-4fca-9bdd-e8f187986ac5",
              "properties": {
                "DisplayName": "MS-PIM",
                "ObjectType": "ServicePrincipal",
                "PrincipalId": "fbebcb52-9901-4f2d-b50f-55a39432d159",
                "RoleDefinitionId": "/providers/Microsoft.Authorization/RoleDefinitions/18d7d88d-d35e-4fb5-a5c3-7773c20a72d9",
                "RoleDefinitionName": "User Access Administrator"
              },
              "ResourceType": "Microsoft.Authorization/roleAssignments"
            },
            {
              "Id": "/providers/Microsoft.Management/managementGroups/landingzones/providers/Microsoft.Authorization/roleAssignments/0128b94e-49a4-45d4-8355-3cf020f100cf",
              "Name": "0128b94e-49a4-45d4-8355-3cf020f100cf",
              "properties": {
                "DisplayName": "uday.pandya@microsoft.com",
                "ObjectType": "User",
                "PrincipalId": "a8a6e6dd-da4d-4b74-bdfd-cc1b4d48bf13",
                "RoleDefinitionId": "/providers/Microsoft.Authorization/RoleDefinitions/8e3af657-a8ff-443c-a75c-2fe8c4bcb635",
                "RoleDefinitionName": "Owner"
              },
              "ResourceType": "Microsoft.Authorization/roleAssignments"
            },
            {
              "Id": "/providers/Microsoft.Management/managementGroups/landingzones/providers/Microsoft.Authorization/roleAssignments/a775ce76-798a-5d83-8179-d61e14abe27f",
              "Name": "a775ce76-798a-5d83-8179-d61e14abe27f",
              "properties": {
                "DisplayName": "Deploy-vNet",
                "ObjectType": "ServicePrincipal",
                "PrincipalId": "35cbdef9-bc47-4284-ba5f-d803a5f1053b",
                "RoleDefinitionId": "/providers/Microsoft.Authorization/RoleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
                "RoleDefinitionName": "Contributor"
              },
              "ResourceType": "Microsoft.Authorization/roleAssignments"
            },
            {
              "Id": "/providers/Microsoft.Management/managementGroups/landingzones/providers/Microsoft.Authorization/roleAssignments/b4f59829-2b00-5ad0-af46-54ee7a695450",
              "Name": "b4f59829-2b00-5ad0-af46-54ee7a695450",
              "properties": {
                "DisplayName": {},
                "ObjectType": "Unknown",
                "PrincipalId": "50cf8db4-e8df-4ad9-b110-16c5a0519586",
                "RoleDefinitionId": "/providers/Microsoft.Authorization/RoleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
                "RoleDefinitionName": "Contributor"
              },
              "ResourceType": "Microsoft.Authorization/roleAssignments"
            },
            {
              "Id": "/providers/Microsoft.Management/managementGroups/landingzones/providers/Microsoft.Authorization/roleAssignments/24b73110-6673-404a-9645-4ac37de940c4",
              "Name": "24b73110-6673-404a-9645-4ac37de940c4",
              "properties": {
                "DisplayName": {},
                "ObjectType": "Unknown",
                "PrincipalId": "71f70c34-c526-4c54-b5f3-b6f79e26418f",
                "RoleDefinitionId": "/providers/Microsoft.Authorization/RoleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
                "RoleDefinitionName": "Contributor"
              },
              "ResourceType": "Microsoft.Authorization/roleAssignments"
            },
            {
              "Id": "/providers/Microsoft.Management/managementGroups/landingzones/providers/Microsoft.Authorization/roleAssignments/fce04e4c-b34c-51f3-8ae6-47322b68ab41",
              "Name": "fce04e4c-b34c-51f3-8ae6-47322b68ab41",
              "properties": {
                "DisplayName": "Deny-PublicEndpoints",
                "ObjectType": "ServicePrincipal",
                "PrincipalId": "87bdb724-c99d-49de-90ea-745b3cfc250b",
                "RoleDefinitionId": "/providers/Microsoft.Authorization/RoleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
                "RoleDefinitionName": "Contributor"
              },
              "ResourceType": "Microsoft.Authorization/roleAssignments"
            },
            {
              "Id": "/providers/Microsoft.Management/managementGroups/landingzones/providers/Microsoft.Authorization/roleAssignments/49b63628-9697-4fb4-b6a6-25f6069ad7ea",
              "Name": "49b63628-9697-4fb4-b6a6-25f6069ad7ea",
              "properties": {
                "DisplayName": {},
                "ObjectType": "Unknown",
                "PrincipalId": "e76fda30-0a1a-4b50-8e25-b791225b10be",
                "RoleDefinitionId": "/providers/Microsoft.Authorization/RoleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
                "RoleDefinitionName": "Contributor"
              },
              "ResourceType": "Microsoft.Authorization/roleAssignments"
            },
            {
              "Id": "/providers/Microsoft.Management/managementGroups/landingzones/providers/Microsoft.Authorization/roleAssignments/ea9098e0-767e-4c2e-85e7-5d3073e43fa4",
              "Name": "ea9098e0-767e-4c2e-85e7-5d3073e43fa4",
              "properties": {
                "DisplayName": {},
                "ObjectType": "Unknown",
                "PrincipalId": "efe422c5-8356-4c64-94a8-c7d21feaf551",
                "RoleDefinitionId": "/providers/Microsoft.Authorization/RoleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
                "RoleDefinitionName": "Contributor"
              },
              "ResourceType": "Microsoft.Authorization/roleAssignments"
            }
          ]
        }
      }
    }
  }
}
